{"version":3,"sources":["components/Button.tsx","components/Place.tsx","containers/Welcome/index.tsx","assets/cross.svg","assets/tick.svg","assets/checkbox.svg","assets/checkboxChecked.svg","utils/zeroPadding.ts","containers/Confirm/index.tsx","assets/back.svg","assets/qrOverlay.svg","containers/QR/index.tsx","utils/qrDecode.ts","App.tsx","serviceWorkerRegistration.ts","index.tsx"],"names":["Button","styled","button","Place","input","Welcome","place","setPlace","useEffect","isPWA","useMemo","window","matchMedia","matches","Message","ContentWrapper","Msg","value","onChange","e","target","placeholder","ActionWrapper","disabled","to","StyledLink","div","Link","zeroPadding","String","slice","Confirm","browserHistory","useHistory","useState","autoLeave","setAutoLeave","push","date","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minute","getMinutes","Cross","src","cross","readOnly","Time","Tick","tick","AutoLeave","CheckBoxWrapper","CheckBox","checkboxChecked","checkbox","onClick","prev","Change","img","QR","Header","BackButton","back","Overlay","VideoContainer","StyledScanner","onDecode","data","startsWith","json","JSON","parse","atob","substring","console","log","decodeURIComponent","escape","nameZh","qrDecode","constraints","audio","video","facingMode","Scanner","qrOverlay","App","GlobalStyle","basename","exact","path","createGlobalStyle","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.512c93cc.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const Button = styled.button`\n  display: block;\n  margin: auto;\n  margin-bottom: 16px;\n  font-size: 24px;\n  padding: 10px 0;\n  width: 80%;\n  border-radius: 48px;\n  background-color: #fed426;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.5);\n  border: 0;\n  outline: none;\n\n  &:focus {\n    outline: none;\n    text-decoration: none;\n  }\n`;\n","import styled from \"styled-components\";\n\nexport const Place = styled.input`\n  text-align: center;\n  font-size: 32px;\n  background-color: transparent;\n  border: 0;\n  outline: none;\n  margin: 8px 0;\n  color: #fed426;\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import React, { useEffect, useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { Button } from \"../../components/Button\";\nimport { Place } from \"../../components/Place\";\n\ntype Props = {\n  place: string;\n  setPlace: (input: string) => void;\n};\n\nexport const Welcome = ({ place, setPlace }: Props) => {\n  useEffect(() => {\n    setPlace(\"\");\n  }, [setPlace]);\n\n  const isPWA = useMemo(\n    () => window.matchMedia(\"(display-mode: standalone)\").matches,\n    []\n  );\n\n  return (\n    <>\n      {!isPWA && <Message>!要新增至主畫面先似返個App架!</Message>}\n      <ContentWrapper>\n        <Msg>我想去</Msg>\n        <Place\n          value={place}\n          onChange={(e) => setPlace(e.target.value)}\n          placeholder=\"輸入地址\"\n        />\n      </ContentWrapper>\n      <ActionWrapper>\n        {place === \"\" ? (\n          <Button disabled>話去就去!</Button>\n        ) : (\n          <Link to=\"/confirm\">\n            <Button>話去就去!</Button>\n          </Link>\n        )}\n        <StyledLink to=\"/qr\">掃瞄二維碼</StyledLink>\n      </ActionWrapper>\n    </>\n  );\n};\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nconst Msg = styled.div`\n  color: #ffffff;\n  text-align: center;\n  font-size: 15px;\n`;\n\nconst ActionWrapper = styled.div`\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  text-align: center;\n  color: #fff;\n  padding-bottom: 40px;\n`;\n\nconst StyledLink = styled(Link)`\n  color: #ffffff;\n`;\n\nconst Message = styled.div`\n  background-color: #fed426;\n  text-align: center;\n  line-height: 48px;\n  position: absolute;\n  width: 100%;\n  text-shadow: none;\n`;\n","export default __webpack_public_path__ + \"static/media/cross.d2bbc7f7.svg\";","export default __webpack_public_path__ + \"static/media/tick.6d45b966.svg\";","export default __webpack_public_path__ + \"static/media/checkbox.7f6c2da0.svg\";","export default __webpack_public_path__ + \"static/media/checkboxChecked.dad8859a.svg\";","export const zeroPadding = (input: string | number) =>\n  (\"00\" + String(input)).slice(-2);\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport styled from \"styled-components\";\nimport cross from \"../../assets/cross.svg\";\nimport tick from \"../../assets/tick.svg\";\nimport checkbox from \"../../assets/checkbox.svg\";\nimport checkboxChecked from \"../../assets/checkboxChecked.svg\";\n\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Button } from \"../../components/Button\";\nimport { zeroPadding } from \"../../utils/zeroPadding\";\nimport { Place } from \"../../components/Place\";\n\ntype Props = {\n  place: string;\n};\n\nexport const Confirm = ({ place }: Props) => {\n  const browserHistory = useHistory();\n  const [autoLeave, setAutoLeave] = useState(false);\n\n  useEffect(() => {\n    if (place === \"\") browserHistory.push(\"/\");\n  }, [place]);\n\n  const { year, month, day, hour, minute } = useMemo(() => {\n    const date = new Date();\n    return {\n      year: date.getFullYear(),\n      month: date.getMonth() + 1,\n      day: date.getDate(),\n      hour: date.getHours(),\n      minute: date.getMinutes(),\n    };\n  }, []);\n\n  const handleCheckBoxClick = () => {\n    setAutoLeave((prev) => !prev);\n  };\n\n  return (\n    <>\n      <Link to=\"/\">\n        <Cross src={cross} />\n      </Link>\n      <ContentWrapper>\n        <Msg>你已進入場所</Msg>\n        <Place value={place} readOnly />\n        <Time>{`${year}-${zeroPadding(month)}-${zeroPadding(day)} ${zeroPadding(\n          hour\n        )}:${zeroPadding(minute)}`}</Time>\n        <Tick src={tick} />\n      </ContentWrapper>\n      <ActionWrapper>\n        <AutoLeave>\n          <CheckBoxWrapper>\n            <CheckBox\n              src={autoLeave ? checkboxChecked : checkbox}\n              onClick={handleCheckBoxClick}\n            />\n            4小時後自動離開\n          </CheckBoxWrapper>\n          <Change>變更</Change>\n        </AutoLeave>\n        <Link to=\"/\">\n          <Button>離開</Button>\n        </Link>\n        <div>當你離開時請緊記按\"離開\"</div>\n      </ActionWrapper>\n    </>\n  );\n};\n\nconst Cross = styled.img`\n  height: 20px;\n  float: right;\n  position: absolute;\n  top: 24px;\n  right: 24px;\n`;\n\nconst Tick = styled.img`\n  margin: auto;\n  margin-top: 80px;\n  width: 32%;\n`;\n\nconst ContentWrapper = styled.div`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n`;\n\nconst Msg = styled.div`\n  color: #ffffff;\n  text-align: center;\n  font-size: 15px;\n  margin-top: 120px;\n`;\n\nconst Time = styled.div`\n  color: #ffffff;\n  text-align: center;\n`;\n\nconst ActionWrapper = styled.div`\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  text-align: center;\n  color: #fff;\n  padding-bottom: 40px;\n`;\n\nconst AutoLeave = styled.div`\n  margin-bottom: 16px;\n  width: 100%;\n  display: flex;\n`;\n\nconst CheckBoxWrapper = styled.div`\n  width: 100%;\n  text-align: left;\n  padding-left: 24px;\n  line-height: 32px;\n`;\n\nconst Change = styled.div`\n  flex-shrink: 0;\n  padding-right: 24px;\n  line-height: 32px;\n`;\n\nconst CheckBox = styled.img`\n  height: 32px;\n  display: inline-block;\n  vertical-align: top;\n  margin-right: 8px;\n`;\n","export default __webpack_public_path__ + \"static/media/back.7bf7a56f.svg\";","export default __webpack_public_path__ + \"static/media/qrOverlay.185cc3ea.svg\";","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport Scanner from \"react-webcam-qr-scanner\";\nimport styled from \"styled-components\";\nimport back from \"../../assets/back.svg\";\nimport { qrDecode } from \"../../utils/qrDecode\";\nimport qrOverlay from \"../../assets/qrOverlay.svg\";\n\ntype Props = {\n  setPlace: (input: string) => void;\n};\n\nexport const QR = ({ setPlace }: Props) => {\n  const browserHistory = useHistory();\n\n  const handleScan = ({ data }: { data: string }) => {\n    if (!data) return;\n    const place = qrDecode(data);\n    if (place !== \"\") {\n      setPlace(place);\n      browserHistory.push(\"/confirm\");\n    }\n  };\n\n  return (\n    <>\n      <Header>\n        <Link to=\"/\">\n          <BackButton src={back} />\n        </Link>\n        掃瞄二維碼\n      </Header>\n      <Overlay />\n      <Message>掃瞄二維碼</Message>\n      <VideoContainer>\n        <StyledScanner\n          onDecode={handleScan}\n          constraints={{\n            audio: false,\n            video: {\n              facingMode: \"environment\",\n            },\n          }}\n        />\n      </VideoContainer>\n    </>\n  );\n};\n\nconst BackButton = styled.img`\n  height: 20px;\n  top: 14px;\n  left: 16px;\n  position: absolute;\n`;\n\nconst Header = styled.div`\n  width: 100%;\n  position: absolute;\n  z-index: 100;\n  color: #ffffff;\n  background-color: #12b188;\n  text-align: center;\n  line-height: 48px;\n`;\n\nconst VideoContainer = styled.div`\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n`;\n\nconst StyledScanner = styled(Scanner)`\n  /* Make video to at least 100% wide and tall */\n  min-width: 100%;\n  min-height: 100%;\n\n  /* Setting width & height to auto prevents the browser from stretching or squishing the video */\n  width: auto;\n  height: auto;\n\n  /* Center the video */\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nconst Overlay = styled.div`\n  /* The image used */\n  background-image: url(\"${qrOverlay}\");\n\n  /* Full height */\n  height: 100%;\n\n  /* Center and scale the image nicely */\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n\n  z-index: 50;\n  position: relative;\n`;\n\nconst Message = styled.div`\n  position: absolute;\n  z-index: 51;\n  bottom: 25%;\n  width: 100%;\n  text-align: center;\n  color: #ffffff;\n  font-size: 16px;\n`;\n","type DecodedJSON = {\n  hash: string;\n  metadata: { typeEn: string; typeZh: string };\n  nameEn: string;\n  nameZh: string;\n  type: string;\n};\n\n// https://github.com/aaasssdddwww/back-home-safe/pull/7\nexport const qrDecode = (input: string): string => {\n  if (!input.startsWith(\"HKEN:\")) return \"\";\n  const json: DecodedJSON = JSON.parse(window.atob(input.substring(14)));\n  console.log(json);\n  return decodeURIComponent(escape(json.nameZh));\n};\n","import React, { useState } from \"react\";\nimport { createGlobalStyle } from \"styled-components\";\n\nimport { Route, HashRouter, Switch, Redirect } from \"react-router-dom\";\nimport { Welcome } from \"./containers/Welcome\";\nimport { Confirm } from \"./containers/Confirm\";\nimport { QR } from \"./containers/QR\";\n\nfunction App() {\n  const [place, setPlace] = useState(\"\");\n\n  return (\n    <>\n      <GlobalStyle />\n      <HashRouter basename=\"/\">\n        <Switch>\n          <Route exact path=\"/\">\n            <Welcome place={place} setPlace={setPlace} />\n          </Route>\n          <Route exact path=\"/qr\">\n            <QR setPlace={setPlace} />\n          </Route>\n          <Route exact path=\"/confirm\">\n            <Confirm place={place} />\n          </Route>\n          <Redirect to=\"/\" />\n        </Switch>\n      </HashRouter>\n    </>\n  );\n}\n\nexport default App;\n\nconst GlobalStyle = createGlobalStyle`\nhtml {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background-color:#12b188;\n  width: 100%;\n  height: 100%;\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n}\n\ninput {\n  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.8);\n}\n\n#root {\n  width: 100%;\n  height: 100%;\n}\n\na {\n  text-decoration: none;\n}\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorkerRegistration from \"./serviceWorkerRegistration\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n"],"sourceRoot":""}